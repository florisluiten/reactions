-- MySQL Script generated by MySQL Workbench
-- 2019-05-03T11:18:40 CEST
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema reactions
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `reactions`.`articles`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `reactions`.`articles` ;

CREATE TABLE IF NOT EXISTS `reactions`.`articles` ( `articleID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `title` VARCHAR(100) NOT NULL, `content` MEDIUMTEXT NOT NULL, PRIMARY KEY (`articleID`)) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `reactions`.`users`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `reactions`.`users` ;

CREATE TABLE IF NOT EXISTS `reactions`.`users` ( `userID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(100) NOT NULL, `image` VARCHAR(255) NULL, PRIMARY KEY (`userID`)) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `reactions`.`reactions`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `reactions`.`reactions` ;

CREATE TABLE IF NOT EXISTS `reactions`.`reactions` ( `reactionID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, `parentID` BIGINT UNSIGNED NULL DEFAULT NULL, `articleID` BIGINT UNSIGNED NOT NULL, `userID` BIGINT UNSIGNED NOT NULL, `publishDate` DATETIME NOT NULL DEFAULT NOW(), `content` TEXT NOT NULL, PRIMARY KEY (`reactionID`), UNIQUE INDEX `reactionID_UNIQUE` (`reactionID` ASC), INDEX `fk_reactions_1_idx` (`parentID` ASC), INDEX `fk_reactions_3_idx` (`userID` ASC), INDEX `fk_reactions_2_idx` (`articleID` ASC), CONSTRAINT `fk_reactions_1` FOREIGN KEY (`parentID`) REFERENCES `reactions`.`reactions` (`reactionID`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_reactions_2` FOREIGN KEY (`articleID`) REFERENCES `reactions`.`articles` (`articleID`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_reactions_3` FOREIGN KEY (`userID`) REFERENCES `reactions`.`users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `reactions`.`reactionScores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `reactions`.`reactionScores` ;

CREATE TABLE IF NOT EXISTS `reactions`.`reactionScores` ( `reactionID` BIGINT UNSIGNED NOT NULL, `userID` BIGINT UNSIGNED NOT NULL, `score` TINYINT NOT NULL, PRIMARY KEY (`reactionID`, `userID`), INDEX `fk_reactionScores_2_idx` (`userID` ASC), CONSTRAINT `fk_reactionScores_1` FOREIGN KEY (`reactionID`) REFERENCES `reactions`.`reactions` (`reactionID`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_reactionScores_2` FOREIGN KEY (`userID`) REFERENCES `reactions`.`users` (`userID`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `reactions`.`articles`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `reactions`.`articles` (`articleID`, `title`, `content`) VALUES (152056, 'Delfts studententeam bouwt waterstofvliegtuig', '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam efficitur est risus, vel aliquam justo condimentum volutpat. Nulla vitae semper dui. Duis dictum dui eget arcu gravida, in tincidunt lectus lobortis. In hac habitasse platea dictumst. Aenean ultricies ante id nibh tristique euismod. In bibendum maximus sapien sagittis blandit. Fusce nulla ex, eleifend ut metus eu, lobortis vehicula odio. Praesent varius quam tellus, vitae efficitur justo dictum id. Morbi at nunc dapibus, aliquam nisl ut, maximus orci. Ut leo tortor, blandit non tortor a, faucibus cursus ante. Curabitur ultricies nunc mi, id iaculis orci aliquam sit amet. Curabitur faucibus egestas risus, non molestie lorem scelerisque sit amet. Sed pharetra iaculis libero et imperdiet.</p><p>Ut sed dui sed velit vulputate porttitor. Maecenas quis diam id tellus vehicula commodo. Suspendisse at nisl tempor, volutpat elit vitae, finibus mi. Proin quis pretium leo. Integer at tincidunt est, eget tempus augue. In tristique vulputate nibh. Aliquam enim dolor, ullamcorper sed hendrerit eget, luctus nec augue. Donec viverra ipsum eget dapibus sagittis. Ut feugiat posuere mauris, non suscipit nibh maximus vitae. Donec aliquet ex quis tortor consequat, quis elementum lacus lacinia. Ut id neque congue, faucibus ante nec, pulvinar nunc. Suspendisse convallis, nisi ac convallis euismod, ligula ipsum euismod ante, consectetur consequat quam leo ut ex. Mauris quis est vitae turpis condimentum volutpat. Cras tristique nibh non pulvinar scelerisque. Nunc aliquam rutrum lacus, vitae porttitor nibh.</p><p><img src=\"http://lorempixel.com/400/200/technics/1/\"></p><p>Sed euismod eros et est consequat, eget egestas arcu tempor. Sed a nisl eget felis pulvinar semper quis sit amet neque. Proin quis pretium nunc, sed pulvinar felis. Vivamus sodales mauris a erat convallis auctor. Morbi aliquet ligula ut nisl semper, eget convallis erat egestas. Phasellus vitae laoreet felis. Aenean tempus erat et aliquam fringilla. </p>');

COMMIT;


-- -----------------------------------------------------
-- Data for table `reactions`.`users`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (1, 'tincidunt91', 'http://lorempixel.com/60/60/people/6/');
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (2, 'TheSapienTellus', 'http://lorempixel.com/60/60/people/1/');
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (3, 'Pellentesqu3', 'http://lorempixel.com/60/60/people/2/');
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (4, '-leo-', 'http://lorempixel.com/60/60/people/3/');
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (5, 'justoNibh99', 'http://lorempixel.com/60/60/people/4/');
INSERT INTO `reactions`.`users` (`userID`, `name`, `image`) VALUES (6, 'dap1bus', 'http://lorempixel.com/60/60/people/5/');

COMMIT;


-- -----------------------------------------------------
-- Data for table `reactions`.`reactions`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (1, NULL, 152056, 1, '2019-04-25 16:20:00', '<p>FIPO!!</p>');
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (3, 1, 152056, 2, '2019-04-25 17:34:00', '<p>Lorem ipsum? Dolor fipo condimentum nibh erat, a condimentum ligula rutrum sed.</p>');
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (4, 3, 152056, 1, '2019-04-25 17:55:00', '<p>Suspendisse tellus sapien</p>');
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (2, NULL, 152056, 3, '2019-04-25 16:24:00', '<p>Lorem ipsum dolor sit amet</p>');
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (5, 2, 152056, 2, '2019-04-25 16:55:00', '<p>Larem ipsum dolor, dit sit dolor amet</p>');
INSERT INTO `reactions`.`reactions` (`reactionID`, `parentID`, `articleID`, `userID`, `publishDate`, `content`) VALUES (6, 2, 152056, 4, '2019-04-25 18:12:00', '<p>Suspendisse tellus sapien</p>');

COMMIT;


-- -----------------------------------------------------
-- Data for table `reactions`.`reactionScores`
-- -----------------------------------------------------
START TRANSACTION;
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (1, 2, -1);
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (3, 3, 0);
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (4, 3, 0);
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (2, 4, 2);
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (5, 3, 3);
INSERT INTO `reactions`.`reactionScores` (`reactionID`, `userID`, `score`) VALUES (4, 4, 2);

COMMIT;

